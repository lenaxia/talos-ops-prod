apiVersion: v1
kind: Secret
metadata:
  name: kubeconfig
  namespace: flux-system
type: Opaque
stringData:
  config: |-
    apiVersion: v1
    kind: Config
    clusters:
      - cluster:
          server: https://kubernetes.default.svc
          certificate-authority-data: |
            -----BEGIN CERTIFICATE-----
            ENCRYPTED_K8S_CA_CERTIFICATE
            -----END CERTIFICATE-----
    users:
      - name: admin
        user:
          client-certificate-data: |
            -----BEGIN CERTIFICATE-----
            ENCRYPTED_CLIENT_CERTIFICATE
            -----END CERTIFICATE-----
          client-key-data: |
            -----BEGIN PRIVATE KEY-----
            ENCRYPTED_CLIENT_PRIVATE_KEY
            -----END PRIVATE KEY-----
    contexts:
      - context:
          cluster: k8s-cluster
          user: admin
